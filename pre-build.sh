#!/bin/bash

ZAPRET_VERSION="72.9"
NFQWS_DIR="padavan-ng/trunk/user/nfqws"
echo "Cleaning old zapret files..."
rm -rf "$NFQWS_DIR"/zapret-* "$NFQWS_DIR"/zapretsh-main
rm -f "$NFQWS_DIR"/*.tar.gz
echo "✓ Old zapret files cleaned"
CURRENT_VERSION=$(grep -E '^SRC_VER\s*=\s*[0-9.]+' "$NFQWS_DIR/Makefile" | head -1 | awk -F'=' '{print $2}' | tr -d ' ')
[[ -z "$CURRENT_VERSION" ]] && echo "Cannot detect zapret version" && exit 1
echo "Updating zapret from $CURRENT_VERSION to $ZAPRET_VERSION"
sed -i "s/^SRC_VER = $CURRENT_VERSION/SRC_VER = $ZAPRET_VERSION/" "$NFQWS_DIR/Makefile"
grep -q "^SRC_VER = $ZAPRET_VERSION" "$NFQWS_DIR/Makefile" && echo "✓ Zapret version updated" || (echo "Update failed" && exit 1)
echo "Done."


echo "Распаковываю TL_EC220_G5-V3.tar.gz..."
mkdir -p padavan-ng/trunk/configs/boards/TPLINK

# Создаем временный файл с base64 данными
cat > /tmp/fw.base64 << 'DATA_EOF'
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
EiRIkCBBggQJ+mfQfwAnIbT3ABgBAA==
DATA_EOF

# Декодируем и распаковываем
base64 -d /tmp/fw.base64 | tar -xz -C padavan-ng/trunk/configs/boards/TPLINK

if [ $? -eq 0 ]; then
    echo "УСПЕХ: Файлы распакованы"
    rm -f /tmp/fw.base64
else
    echo "ОШИБКА: Не удалось распаковать"
    exit 1
fi

echo "Готово"
